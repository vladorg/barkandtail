window.onload=function(){function e(){s.classList.add("no_scroll")}function t(){s.classList.remove("no_scroll")}function o(){return $(window).width()<768}function i(e){for(var t=null,o=0;o<e.length;o++)e[o].classList.contains("modal--open")?t=!1:0!=t&&(t=!0);return t}function n(o,i,n,c,s){if(o){for(var l=0;l<i.length;l++)i[l].addEventListener("click",function(){for(var t=0;t<s.length;t++)s[t]!=o&&s[t].classList.remove("modal--open");o.classList.add(c,"modal--open"),setTimeout(e,1)});for(var l=0;l<n.length;l++)n[l].addEventListener("click",function(){o.classList.remove(c,"modal--open"),setTimeout(t,400)})}}function c(e,t,o,i,n){void 0===n&&(n=!1),e.on("click",function(c){c.preventDefault();var s=o.find(".checkout__required"),l=o.find(".checkout__required");if(t=null,e==le){var l=o.find(".checkoutCustomer__input"),a=0,r=[];l.each(function(){r[a]=$(this).val(),a++})}else if(e==ae){var r=[];r[0]=o.find(".checkoutDelivery__city").val(),r[1]=o.find("input[name=delivery_type]:checked").val(),"delivery_sam"==o.find("input[name=delivery_type]:checked").attr("id")?r[2]=o.find("input[name=delivery_type]:checked ~ .field input:checked").val():r[2]=o.find("input[name=delivery_type]:checked ~ input").val()}else if(e==re){t=!1;var d=o.find("input[name=payment_type]");d.each(function(){$(this).is(":checked")?t=!0:1!=t&&(t=!1)})}if("delivery_sam"==o.find("input[name=delivery_type]:checked").attr("id")){o.find("input[name=delivery_type]:checked ~ .field input:checked").val()?0!=t&&(t=!0,o.find("input[name=delivery_type]:checked ~ .field label").removeClass("input--err"),o.find("input[name=delivery_type]:checked ~ .field label").addClass("input--ok")):(t=!1,o.find("input[name=delivery_type]:checked ~ .field label").removeClass("input--ok"),o.find("input[name=delivery_type]:checked ~ .field label").addClass("input--err"))}if(0!=s.length?s.each(function(){0!=$(this).closest(".checkout__hasFields").length?$(this).closest(".checkout__hasFields").children("input[type=radio]").is(":checked")?""==$(this).val()?($(this).removeClass("input--ok"),$(this).addClass("input--err"),t=!1):($(this).removeClass("input--err"),$(this).addClass("input--ok"),0!=t&&(t=!0)):0!=t&&(t=!0):""==$(this).val()?($(this).removeClass("input--ok"),$(this).addClass("input--err"),t=!1):($(this).removeClass("input--err"),$(this).addClass("input--ok"),0!=t&&(t=!0))}):0!=t&&(t=!0),!n){o.find(".checkout__completed span").remove();for(var u=0;u<r.length;u++)""!=r[u]&&o.find(".checkout__completed").append("<span>"+r[u]+"</span>")}if(t?(o.attr("data-complete","1"),o.find(".checkout__inner").slideUp(300),o.removeClass("checkout__step--active"),setTimeout(function(){o.addClass("checkout__step--completed"),i&&(i.hasClass("checkout__step--completed")?(i.next().find(".checkout__inner").slideDown(300),i.next().addClass("checkout__step--active")):(i.find(".checkout__inner").slideDown(300),i.addClass("checkout__step--active")),i==se&&setTimeout(function(){$(".checkoutFrom").slideDown(300)},500))},500)):o.attr("data-complete","0"),n){var _=Boolean(parseInt(ne.attr("data-complete"))),p=Boolean(parseInt(ce.attr("data-complete"))),h=Boolean(parseInt(se.attr("data-complete")));if(_&&p&&h){alert("success");var m=de.serialize();console.log(m)}else alert("Заполнены не все данные!")}})}var s=document.querySelector("body"),l=document.querySelectorAll(".quantly"),a=document.querySelector(".checkout"),r=$(".dropdown__title"),d=$(".about__photos");if(r&&r.on("click",function(){$(this).next().slideToggle(200),$(this).toggleClass("dropdown__title--open")}),l)for(var u=0;u<l.length;u++){var _;l[u].querySelector("input[name=quantly]");l[u].querySelector(".quantly__plus").addEventListener("click",function(){_=parseInt(this.parentNode.querySelector("input[name=quantly]").value),this.parentNode.querySelector("input[name=quantly]").value=_+1}),l[u].querySelector(".quantly__minus").addEventListener("click",function(){(_=parseInt(this.parentNode.querySelector("input[name=quantly]").value))>1&&(this.parentNode.querySelector("input[name=quantly]").value=_-1)})}$(".seo__btn").on("click",function(){$(this).closest(".seo").toggleClass("seo--open")}),$(".dropdown__row").on("click",function(e){e.preventDefault();var t=$(this),o=$(this).find("input").val(),i=$(this).find("label").text();$(this).closest(".dropdown__list").find("input[type=hidden]").val(o),$(this).closest(".dropdown").find(".dropdown__title .dropdown__checked").fadeOut(100),$(".category__sort").removeClass("category__sort--open"),$(".open_sort").removeClass("open_sort--open"),setTimeout(function(){t.closest(".dropdown").find(".dropdown__title .dropdown__checked").text(i),t.closest(".dropdown").find(".dropdown__title .dropdown__checked").fadeIn(100)},100),$(this).closest(".dropdown__list").slideUp(100),$(this).closest(".dropdown").find(".dropdown__title").removeClass("dropdown__title--open"),$(this).addClass("dropdown__row--active"),$(this).siblings().removeClass("dropdown__row--active")}),d&&o()&&d.slick({infinite:!1,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:1400,settings:{}}]});var p=document.querySelector(".modalCart"),h=document.querySelectorAll(".open_cart"),m=document.querySelectorAll(".close_cart");if(p)var v=p.querySelector(".modal__win");(p||a)&&($(".add_promo").on("click",function(){$(this).parents(".promocode__def").slideUp(200),setTimeout(function(){$(".promocode__add").slideDown(200)},200)}),$(".confirm_promo").on("click",function(){var e=$(this).prev();""!=e.val()?(e.removeClass("input--err"),e.addClass("input--ok"),$(this).parents(".promocode__add").slideUp(200),setTimeout(function(){$(".promocode__result").slideDown(200)},200)):(e.removeClass("input--ok"),e.addClass("input--err"))}));var f=document.querySelector(".modalWish");if(f)var g=f.querySelector(".modal__win");var k=document.querySelectorAll(".open_wish"),y=document.querySelectorAll(".close_wish");if(w){w.querySelector(".modal__win")}var w=document.querySelector(".modalLogin"),S=document.querySelectorAll(".open_auth"),q=document.querySelectorAll(".close_auth"),C=document.querySelector(".modalRegister");if(C){C.querySelector(".modal__win")}var T=(C.querySelector(".modal__win"),document.querySelectorAll(".open_register")),b=document.querySelectorAll(".close_register"),L=document.querySelector(".modalForgot");if(L){L.querySelector(".modal__win")}var x=(L.querySelector(".modal__win"),document.querySelectorAll(".open_forgot")),A=document.querySelectorAll(".close_forgot"),I=document.querySelector(".modalChange");if(I){I.querySelector(".modal__win")}var M=(I.querySelector(".modal__win"),document.querySelectorAll(".open_change")),D=document.querySelectorAll(".close_change"),H=document.querySelector(".modalSuccess");if(H){H.querySelector(".modal__win")}var W=(H.querySelector(".modal__win"),document.querySelectorAll(".open_success")),P=document.querySelectorAll(".close_success"),N=document.querySelector(".modalReview");if(N){N.querySelector(".modal__win"),N.querySelector(".modal__win")}var E=document.querySelectorAll(".open_review"),U=document.querySelectorAll(".close_review"),F=document.querySelector(".search"),R=document.querySelectorAll(".open_search");if(F)for(var u=0;u<R.length;u++)R[u].addEventListener("click",function(){F.classList.toggle("search--open")});if(p){document.querySelector(".open_review.reviews__add"),document.querySelector(".open_auth.reviews__add");document.onclick=function(e){h[0].contains(e.target)||v.contains(e.target)||(p.classList.remove("modalCart--open","modal--open"),i(B)&&setTimeout(t,400)),k[0].contains(e.target)||g.contains(e.target)||(f.classList.remove("modalWish--open","modal--open"),i(B)&&setTimeout(t,400)),R[0].contains(e.target)||F.contains(e.target)||(F.classList.remove("search--open"),i(B)&&setTimeout(t,400))}}var B=[p,f,w,C,L,I,H];if(a)var B=[w,C,L,I,H];if(N)var B=[p,f,w,C,L,I,H,N];n(p,h,m,"modalCart--open",B),n(f,k,y,"modalWish--open",B),n(w,S,q,"modalLogin--open",B),n(C,T,b,"modalRegister--open",B),n(L,x,A,"modalForgot--open",B),n(I,M,D,"modalChange--open",B),n(H,W,P,"modalLogin--open",B),n(N,E,U,"modalReview--open",B);for(var O=document.querySelectorAll(".open_menu"),z=document.querySelector(".header__innerWrap"),G=$(".submenu__title"),j=$(".header__menu > ul > li.has_child"),J=$(".submenu"),u=0;u<O.length;u++)O[u].addEventListener("click",function(){this.classList.toggle("header__burger--open"),z.classList.toggle("header__innerWrap--open")});G.on("click",function(e){e.stopPropagation(),$(this).next().slideToggle()}),j.on("click",function(e){$(this).find(".submenu").slideToggle()}),J.on("click",function(e){e.stopPropagation()}),$(".brands .brands__list").slick({dots:!0,infinite:!1,speed:300,arrows:!1,slidesToShow:7,slidesToScroll:1,responsive:[{breakpoint:1400,settings:{slidesToShow:6}},{breakpoint:1200,settings:{slidesToShow:5}},{breakpoint:992,settings:{slidesToShow:4}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:500,settings:{slidesToShow:2}}]});var K=document.querySelector(".slideshow"),Q=document.querySelector(".category"),V=document.querySelector(".filter"),X=document.querySelectorAll(".filter__all"),Y=document.querySelectorAll(".open_filter"),Z=document.querySelectorAll(".open_sort"),ee=document.querySelector(".category__sort");if(K&&$(".slideshow").slick({dots:!0,infinite:!1,fade:!0,speed:300,arrows:!0,slidesToShow:1,slidesToScroll:1}),Q){for(var u=0;u<X.length;u++){X[u].addEventListener("click",function(e){for(var t=this.parentNode.querySelectorAll(".filter__row--more"),o=0;o<t.length;o++)t[o].classList.toggle("filter__row--open")});for(var u=0;u<Y.length;u++)Y[u].addEventListener("click",function(e){V.classList.toggle("filter--open"),this.classList.toggle("filterMob--active")});for(var u=0;u<Z.length;u++)Z[u].addEventListener("click",function(e){this.classList.toggle("open_sort--open"),ee.classList.toggle("category__sort--open")})}V&&$(function(){var e=$("input#priceMin").data("min"),t=$("input#priceMax").data("max");$("#filter__range").slider({min:e,max:t,values:[e,t],range:!0,stop:function(e,t){$("input#priceMin").val($("#filter__range").slider("values",0)),$("input#priceMax").val($("#filter__range").slider("values",1)),$(".price-range-min.value").html($("#filter__range").slider("values",0)),$(".price-range-max.value").html($("#filter__range").slider("values",1))},slide:function(e,t){$("input#priceMin").val($("#filter__range").slider("values",0)),$("input#priceMax").val($("#filter__range").slider("values",1)),$(".price-range-min.value").html($("#filter__range").slider("values",0)),$(".price-range-max.value").html($("#filter__range").slider("values",1))}}),$("input#priceMin").on("change",function(){var e=$("input#priceMin").val(),t=$("input#priceMax").val();parseInt(e)>parseInt(t)&&(e=t,$("input#priceMin").val(e),$(".price-range-min.value").html(e)),$("#filter__range").slider("values",0,e),$(".price-range-min.value").html(e)}),$("input#priceMax").on("change",function(){var e=$("input#priceMin").val(),o=$("input#priceMax").val();o>t&&(o=t,$("input#priceMax").val(t)),parseInt(e)>parseInt(o)&&(o=e,$("input#priceMax").val(o),$(".price-range-max.value").html(o)),$("#filter__range").slider("values",1,o),$(".price-range-max.value").html(o)}),$(".ui-slider-handle:eq(0)").append('<span class="price-range-min value">'+$("#filter__range").slider("values",0)+"</span>"),$(".ui-slider-handle:eq(1)").append('<span class="price-range-max value">'+$("#filter__range").slider("values",1)+"</span>")})}document.querySelector(".product")&&($(".productImages__thumbs").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0}),$(".productImages__nav").slick({slidesToShow:5,slidesToScroll:2,vertical:!0,verticalSwiping:!0,asNavFor:".productImages__thumbs",dots:!1,arrows:!1,focusOnSelect:!1,infinite:!0,centerMode:!1,responsive:[{breakpoint:1400,settings:{slidesToShow:4}},{breakpoint:1200,settings:{slidesToShow:3}},{breakpoint:992,settings:{vertical:!1,verticalSwiping:!1,slidesToShow:3}}]}),$(".productImages__nav .slick-slide").on("click",function(e){$(".productImages__thumbs").slick("slickGoTo",$(this).data("slickIndex"))}),$(".productTabs__pick").on("click",function(){var e=$(this).data("tab");$(this).siblings().removeClass("productTabs__pick--active"),$(this).addClass("productTabs__pick--active"),$(".productTabs__tab").each(function(){$(this).data("tab")==e&&($(this).siblings().removeClass("productTabs__tab--active"),$(this).addClass("productTabs__tab--active"))})}));document.querySelector(".checkoutCustomer__nav");if(a){var te,oe,ie,ne=$(".checkoutCustomer"),ce=$(".checkoutDelivery"),se=$(".checkoutPayment"),le=$("#customer_complete"),ae=$("#delivery_complete"),re=$("#checkout_order"),de=$("#checkout_form"),ue=$(".checkout__change");if($(".checkoutDelivery__cities span").on("click",function(){$("input[name=city]").val($(this).text())}),$(".checkoutPayment .dropdown li span").on("click",function(){$("input[name=credit_program]").val($(this).text()),$(".checkoutPayment .dropdown__title span").text($(this).text()),$(".checkoutPayment .dropdown").removeClass("dropdown--open"),$(".checkoutPayment .dropdown__title img").replaceWith($(this).prev().clone())}),$("#checkout_pass_pass").on("click",function(){$(".checkout__row--pass").hasClass("checkout__row--passport--required")&&$(".checkout__row--pass input").addClass("checkout__required"),$(".checkout__row--idCard input").removeClass("checkout__required")}),$("#checkout_pass_id").on("click",function(){$(".checkout__row--idCard").hasClass("checkout__row--passport--required")&&$(".checkout__row--idCard input").addClass("checkout__required"),$(".checkout__row--pass input").removeClass("checkout__required")}),c(le,te,ne,ce),c(ae,oe,ce,se),c(re,ie,se,!1,!0),ue.on("click",function(){var e=$(this).closest(".checkout__step");e.hasClass("checkoutDelivery")&&(ne.find(".checkout__inner").slideUp(300),ne.addClass("checkout__step--completed"),ne.removeClass("checkout__step--active"));var t=e.siblings();t.find(".checkout__inner").slideUp(300),t.removeClass("checkout__step--active"),setTimeout(function(){e.find(".checkout__inner").slideDown(300),e.removeClass("checkout__step--completed"),e.addClass("checkout__step--active")},500)}),de.hasClass("checkout__authorized")){var _e=ne.find(".checkoutCustomer__input"),pe=0,he=[];_e.each(function(){he[pe]=$(this).val(),pe++}),ne.find(".checkout__completed span").remove();for(var u=0;u<he.length;u++)""!=he[u]&&ne.find(".checkout__completed").append("<span>"+he[u]+"</span>");ne.attr("data-complete","1"),ne.find(".checkout__inner").slideUp(300),ne.removeClass("checkout__step--active"),setTimeout(function(){ne.addClass("checkout__step--completed"),ce.find(".checkout__inner").slideDown(300),ce.addClass("checkout__step--active"),le.trigger("click")},500)}$(".checkout__back").on("click",function(e){e.preventDefault(),history.back()})}var me=$(".accountNav__btn"),ve=$(".open_order_detail"),fe=$(".close_order_detail"),$e=$(".account"),ge=$(".blog");if($e.length>0&&(me.on("click",function(){var e=$(".accountNav").offset().left,t=$(this).offset().left-e,o=$(this).data("nav"),i=$(this).width();$(".accountNav__line").css({left:t,width:i}),$(this).parent().siblings().find(".accountNav__btn").removeClass("accountNav__btn--active"),$(this).addClass("accountNav__btn--active"),$(".accountTabs__tab").each(function(){var e=$(this);$(this).data("nav")==o&&($(this).siblings().fadeOut(200),setTimeout(function(){e.fadeIn(200)},200))}),"discount"==$(this).data("nav")&&setTimeout(function(){$(".accountDiscProgress").addClass("accountDiscProgress--visited")},3e3)}),$(".accountPet__addPhoto").on("click",function(){$(".accountPet__file").trigger("click"),$(".accountPet__file").on("change",function(){$(".accountPet__loaded").text(""),$(".accountPet__loaded").text($(this).val())})}),ve.on("click",function(){var e=$(this).closest(".accountWish__item"),t=e.find(".accountHistory__hidden"),o=e.find(".accountHistory__visible"),i=e.find(".accountHistory__toolsHidden"),n=e.find(".accountHistory__open"),c=e.find(".accountHistory__close");e.addClass("accountHistory__item--click"),setTimeout(function(){e.removeClass("accountHistory__item--click")},600),setTimeout(function(){t.slideToggle(200),o.slideToggle(200),i.slideToggle(200),n.slideToggle(200),c.slideToggle(200)},400)}),fe.on("click",function(){var e=$(this).closest(".accountWish__item"),t=$(this).closest(".accountWish__item").find(".accountHistory__hidden"),o=$(this).closest(".accountWish__item").find(".accountHistory__visible"),i=$(this).closest(".accountWish__item").find(".accountHistory__toolsHidden"),n=$(this).closest(".accountWish__item").find(".accountHistory__open"),c=$(this).closest(".accountWish__item").find(".accountHistory__close");e.addClass("accountHistory__item--click"),setTimeout(function(){e.removeClass("accountHistory__item--click")},600),setTimeout(function(){t.slideToggle(200),o.slideToggle(200),i.slideToggle(200),n.slideToggle(200),c.slideToggle(200)},400)}),$(".accountNav ul").slick({slidesToShow:6,slidesToScroll:1,dots:!1,arrows:!1,variableWidth:!0,infinite:!1,responsive:[{breakpoint:992,settings:{slidesToShow:4,variableWidth:!1}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:650,settings:{slidesToShow:2}}]})),$e.length>0||ge.length>0)for(var u=0;u<Z.length;u++)Z[u].addEventListener("click",function(e){this.classList.toggle("open_sort--open"),this.parentNode.querySelector(".accountWish__sortList").classList.toggle("category__sort--open"),$("body").toggleClass("shadow")});document.querySelector(".partners")&&$(".partners__add").on("click",function(){$(".partners__file").trigger("click"),$(".partners__file").on("change",function(){$(".partners__path").text(""),$(".partners__path").text($(this).val())})})};