window.onload=function(){function e(){c.classList.add("no_scroll")}function t(){c.classList.remove("no_scroll")}function o(){return $(window).width()<768}function i(e){for(var t=null,o=0;o<e.length;o++)e[o].classList.contains("modal--open")?t=!1:0!=t&&(t=!0);return t}function n(o,i,n,s,c){if(o){for(var a=0;a<i.length;a++)i[a].addEventListener("click",function(){for(var t=0;t<c.length;t++)c[t]!=o&&c[t].classList.remove("modal--open");o.classList.add(s,"modal--open"),setTimeout(e,1)});for(var a=0;a<n.length;a++)n[a].addEventListener("click",function(){o.classList.remove(s,"modal--open"),setTimeout(t,400)})}}function s(e,t,o,i,n){void 0===n&&(n=!1),e.on("click",function(s){s.preventDefault();var c=o.find(".checkout__required"),a=o.find(".checkout__required");if(t=null,e==pe){var a=o.find(".checkoutCustomer__input"),l=0,r=[];a.each(function(){r[l]=$(this).val(),l++})}else if(e==he){var r=[];r[0]=o.find(".checkoutDelivery__city").val(),r[1]=o.find("input[name=delivery_type]:checked").val(),"delivery_sam"==o.find("input[name=delivery_type]:checked").attr("id")?r[2]=o.find("input[name=delivery_type]:checked ~ .field input:checked").val():r[2]=o.find("input[name=delivery_type]:checked ~ input").val()}else if(e==me){t=!1;var d=o.find("input[name=payment_type]");d.each(function(){$(this).is(":checked")?t=!0:1!=t&&(t=!1)})}if("delivery_sam"==o.find("input[name=delivery_type]:checked").attr("id")){o.find("input[name=delivery_type]:checked ~ .field input:checked").val()?0!=t&&(t=!0,o.find("input[name=delivery_type]:checked ~ .field label").removeClass("input--err"),o.find("input[name=delivery_type]:checked ~ .field label").addClass("input--ok")):(t=!1,o.find("input[name=delivery_type]:checked ~ .field label").removeClass("input--ok"),o.find("input[name=delivery_type]:checked ~ .field label").addClass("input--err"))}if(0!=c.length?c.each(function(){0!=$(this).closest(".checkout__hasFields").length?$(this).closest(".checkout__hasFields").children("input[type=radio]").is(":checked")?""==$(this).val()?($(this).removeClass("input--ok"),$(this).addClass("input--err"),t=!1):($(this).removeClass("input--err"),$(this).addClass("input--ok"),0!=t&&(t=!0)):0!=t&&(t=!0):""==$(this).val()?($(this).removeClass("input--ok"),$(this).addClass("input--err"),t=!1):($(this).removeClass("input--err"),$(this).addClass("input--ok"),0!=t&&(t=!0))}):0!=t&&(t=!0),!n){o.find(".checkout__completed span").remove();for(var u=0;u<r.length;u++)""!=r[u]&&o.find(".checkout__completed").append("<span>"+r[u]+"</span>")}if(t?(o.attr("data-complete","1"),o.find(".checkout__inner").slideUp(300),o.removeClass("checkout__step--active"),setTimeout(function(){o.addClass("checkout__step--completed"),i&&(i.hasClass("checkout__step--completed")?(i.next().find(".checkout__inner").slideDown(300),i.next().addClass("checkout__step--active")):(i.find(".checkout__inner").slideDown(300),i.addClass("checkout__step--active")),i==_e&&setTimeout(function(){$(".checkoutFrom").slideDown(300)},500))},500)):o.attr("data-complete","0"),n){var _=Boolean(parseInt(de.attr("data-complete"))),p=Boolean(parseInt(ue.attr("data-complete"))),h=Boolean(parseInt(_e.attr("data-complete")));if(_&&p&&h){alert("success");var m=ve.serialize();console.log(m)}else alert("Заполнены не все данные!")}})}var c=document.querySelector("body"),a=document.querySelectorAll(".quantly"),l=document.querySelector(".checkout"),r=$(".dropdown__title"),d=$(".about__photos");if(r&&r.on("click",function(){$(this).next().slideToggle(200),$(this).toggleClass("dropdown__title--open")}),a)for(var u=0;u<a.length;u++){var _;a[u].querySelector("input[name=quantly]");a[u].querySelector(".quantly__plus").addEventListener("click",function(){_=parseInt(this.parentNode.querySelector("input[name=quantly]").value),this.parentNode.querySelector("input[name=quantly]").value=_+1}),a[u].querySelector(".quantly__minus").addEventListener("click",function(){(_=parseInt(this.parentNode.querySelector("input[name=quantly]").value))>1&&(this.parentNode.querySelector("input[name=quantly]").value=_-1)})}$(".seo__btn").on("click",function(){$(this).closest(".seo").toggleClass("seo--open")}),$(".dropdown__row").on("click",function(e){e.preventDefault();var t=$(this),o=$(this).find("input").val(),i=$(this).find("label").text();$(this).closest(".dropdown__list").find("input[type=hidden]").val(o),$(this).closest(".dropdown").find(".dropdown__title .dropdown__checked").fadeOut(100),$(".category__sort").removeClass("category__sort--open"),$(".open_sort").removeClass("open_sort--open"),setTimeout(function(){t.closest(".dropdown").find(".dropdown__title .dropdown__checked").text(i),t.closest(".dropdown").find(".dropdown__title .dropdown__checked").fadeIn(100)},100),$(this).closest(".dropdown__list").slideUp(100),$(this).closest(".dropdown").find(".dropdown__title").removeClass("dropdown__title--open"),$(this).addClass("dropdown__row--active"),$(this).siblings().removeClass("dropdown__row--active")}),d&&o()&&d.slick({infinite:!1,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:1400,settings:{}}]});var p=document.querySelector(".modalCart"),h=document.querySelectorAll(".open_cart"),m=document.querySelectorAll(".close_cart");if(p)var v=p.querySelector(".modal__win");(p||l)&&($(".add_promo").on("click",function(){$(this).parents(".promocode__def").slideUp(200),setTimeout(function(){$(".promocode__add").slideDown(200)},200)}),$(".confirm_promo").on("click",function(){var e=$(this).prev();""!=e.val()?(e.removeClass("input--err"),e.addClass("input--ok"),$(this).parents(".promocode__add").slideUp(200),setTimeout(function(){$(".promocode__result").slideDown(200)},200)):(e.removeClass("input--ok"),e.addClass("input--err"))}));var f=document.querySelector(".modalWish");if(f)var g=f.querySelector(".modal__win");var k=document.querySelectorAll(".open_wish"),y=document.querySelectorAll(".close_wish");if(S)var w=S.querySelector(".modal__win");var S=document.querySelector(".modalLogin"),q=document.querySelectorAll(".open_auth"),C=document.querySelectorAll(".close_auth"),b=document.querySelector(".modalRegister");if(b)var w=b.querySelector(".modal__win");var T=b.querySelector(".modal__win"),L=document.querySelectorAll(".open_register"),x=document.querySelectorAll(".close_register"),A=document.querySelector(".modalForgot");if(A)var w=A.querySelector(".modal__win");var I=A.querySelector(".modal__win"),M=document.querySelectorAll(".open_forgot"),D=document.querySelectorAll(".close_forgot"),H=document.querySelector(".modalChange");if(H)var w=H.querySelector(".modal__win");var W=H.querySelector(".modal__win"),P=document.querySelectorAll(".open_change"),N=document.querySelectorAll(".close_change"),E=document.querySelector(".modalSuccess");if(E)var w=E.querySelector(".modal__win");var F=(E.querySelector(".modal__win"),document.querySelectorAll(".open_success")),R=document.querySelectorAll(".close_success"),U=document.querySelector(".modalReview");if(U)var w=U.querySelector(".modal__win"),B=U.querySelector(".modal__win");var O=document.querySelectorAll(".open_review"),z=document.querySelectorAll(".close_review"),G=document.querySelector(".search"),j=document.querySelectorAll(".open_search");if(G)for(var u=0;u<j.length;u++)j[u].addEventListener("click",function(){G.classList.toggle("search--open")});if(p){var J=(document.querySelector(".open_review.reviews__add"),document.querySelector(".open_auth.reviews__add"));document.onclick=function(e){h[0].contains(e.target)||v.contains(e.target)||(p.classList.remove("modalCart--open","modal--open"),i(K)&&t()),k[0].contains(e.target)||g.contains(e.target)||(f.classList.remove("modalWish--open","modal--open"),i(K)&&t()),J?q[0].contains(e.target)||q[1].contains(e.target)||q[2].contains(e.target)||w.contains(e.target)||T.contains(e.target)||I.contains(e.target)||(S.classList.remove("modalLogin--open","modal--open"),i(K)&&t()):q[0].contains(e.target)||w.contains(e.target)||T.contains(e.target)||I.contains(e.target)||(S.classList.remove("modalLogin--open","modal--open"),i(K)&&t()),L[0].contains(e.target)||T.contains(e.target)||q[0].contains(e.target)||(b.classList.remove("modalRegister--open","modal--open"),i(K)&&t()),j[0].contains(e.target)||G.contains(e.target)||(G.classList.remove("search--open"),i(K)&&t()),M[0].contains(e.target)||I.contains(e.target)||(A.classList.remove("modalForgot--open","modal--open"),i(K)&&t()),P[0].contains(e.target)||W.contains(e.target)||(H.classList.remove("modalChange--open","modal--open"),i(K)&&t()),O[1]&&(O[0].contains(e.target)||O[1].contains(e.target)||B.contains(e.target)?O[0].contains(e.target)||B.contains(e.target)||(U.classList.remove("modalReview--open","modal--open"),i(K)&&t()):(U.classList.remove("modalReview--open","modal--open"),i(K)&&t()))}}var K=[p,f,S,b,A,H,E];if(l)var K=[S,b,A,H,E];if(U)var K=[p,f,S,b,A,H,E,U];n(p,h,m,"modalCart--open",K),n(f,k,y,"modalWish--open",K),n(S,q,C,"modalLogin--open",K),n(b,L,x,"modalRegister--open",K),n(A,M,D,"modalForgot--open",K),n(H,P,N,"modalChange--open",K),n(E,F,R,"modalLogin--open",K),n(U,O,z,"modalReview--open",K);for(var Q=document.querySelectorAll(".open_menu"),V=document.querySelector(".header__innerWrap"),X=$(".submenu__title"),Y=$(".header__menu > ul > li.has_child"),Z=$(".submenu"),u=0;u<Q.length;u++)Q[u].addEventListener("click",function(){this.classList.toggle("header__burger--open"),V.classList.toggle("header__innerWrap--open")});X.on("click",function(e){e.stopPropagation(),$(this).next().slideToggle()}),Y.on("click",function(e){$(this).find(".submenu").slideToggle()}),Z.on("click",function(e){e.stopPropagation()}),$(".brands .brands__list").slick({dots:!0,infinite:!1,speed:300,arrows:!1,slidesToShow:7,slidesToScroll:1,responsive:[{breakpoint:1400,settings:{slidesToShow:6}},{breakpoint:1200,settings:{slidesToShow:5}},{breakpoint:992,settings:{slidesToShow:4}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:500,settings:{slidesToShow:2}}]});var ee=document.querySelector(".slideshow"),te=document.querySelector(".category"),oe=document.querySelector(".filter"),ie=document.querySelectorAll(".filter__all"),ne=document.querySelectorAll(".open_filter"),se=document.querySelectorAll(".open_sort"),ce=document.querySelector(".category__sort");if(ee&&$(".slideshow").slick({dots:!0,infinite:!1,fade:!0,speed:300,arrows:!0,slidesToShow:1,slidesToScroll:1}),te){for(var u=0;u<ie.length;u++){ie[u].addEventListener("click",function(e){for(var t=this.parentNode.querySelectorAll(".filter__row--more"),o=0;o<t.length;o++)t[o].classList.toggle("filter__row--open")});for(var u=0;u<ne.length;u++)ne[u].addEventListener("click",function(e){oe.classList.toggle("filter--open"),this.classList.toggle("filterMob--active")});for(var u=0;u<se.length;u++)se[u].addEventListener("click",function(e){this.classList.toggle("open_sort--open"),ce.classList.toggle("category__sort--open")})}oe&&$(function(){var e=$("input#priceMin").data("min"),t=$("input#priceMax").data("max");$("#filter__range").slider({min:e,max:t,values:[e,t],range:!0,stop:function(e,t){$("input#priceMin").val($("#filter__range").slider("values",0)),$("input#priceMax").val($("#filter__range").slider("values",1)),$(".price-range-min.value").html($("#filter__range").slider("values",0)),$(".price-range-max.value").html($("#filter__range").slider("values",1))},slide:function(e,t){$("input#priceMin").val($("#filter__range").slider("values",0)),$("input#priceMax").val($("#filter__range").slider("values",1)),$(".price-range-min.value").html($("#filter__range").slider("values",0)),$(".price-range-max.value").html($("#filter__range").slider("values",1))}}),$("input#priceMin").on("change",function(){var e=$("input#priceMin").val(),t=$("input#priceMax").val();parseInt(e)>parseInt(t)&&(e=t,$("input#priceMin").val(e),$(".price-range-min.value").html(e)),$("#filter__range").slider("values",0,e),$(".price-range-min.value").html(e)}),$("input#priceMax").on("change",function(){var e=$("input#priceMin").val(),o=$("input#priceMax").val();o>t&&(o=t,$("input#priceMax").val(t)),parseInt(e)>parseInt(o)&&(o=e,$("input#priceMax").val(o),$(".price-range-max.value").html(o)),$("#filter__range").slider("values",1,o),$(".price-range-max.value").html(o)}),$(".ui-slider-handle:eq(0)").append('<span class="price-range-min value">'+$("#filter__range").slider("values",0)+"</span>"),$(".ui-slider-handle:eq(1)").append('<span class="price-range-max value">'+$("#filter__range").slider("values",1)+"</span>")})}document.querySelector(".product")&&($(".productImages__thumbs").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0}),$(".productImages__nav").slick({slidesToShow:5,slidesToScroll:2,vertical:!0,verticalSwiping:!0,asNavFor:".productImages__thumbs",dots:!1,arrows:!1,focusOnSelect:!1,infinite:!0,centerMode:!1,responsive:[{breakpoint:1400,settings:{slidesToShow:4}},{breakpoint:1200,settings:{slidesToShow:3}},{breakpoint:992,settings:{vertical:!1,verticalSwiping:!1,slidesToShow:3}}]}),$(".productImages__nav .slick-slide").on("click",function(e){$(".productImages__thumbs").slick("slickGoTo",$(this).data("slickIndex"))}),$(".productTabs__pick").on("click",function(){var e=$(this).data("tab");$(this).siblings().removeClass("productTabs__pick--active"),$(this).addClass("productTabs__pick--active"),$(".productTabs__tab").each(function(){$(this).data("tab")==e&&($(this).siblings().removeClass("productTabs__tab--active"),$(this).addClass("productTabs__tab--active"))})}));document.querySelector(".checkoutCustomer__nav");if(l){var ae,le,re,de=$(".checkoutCustomer"),ue=$(".checkoutDelivery"),_e=$(".checkoutPayment"),pe=$("#customer_complete"),he=$("#delivery_complete"),me=$("#checkout_order"),ve=$("#checkout_form"),fe=$(".checkout__change");if($(".checkoutDelivery__cities span").on("click",function(){$("input[name=city]").val($(this).text())}),$(".checkoutPayment .dropdown li span").on("click",function(){$("input[name=credit_program]").val($(this).text()),$(".checkoutPayment .dropdown__title span").text($(this).text()),$(".checkoutPayment .dropdown").removeClass("dropdown--open"),$(".checkoutPayment .dropdown__title img").replaceWith($(this).prev().clone())}),$("#checkout_pass_pass").on("click",function(){$(".checkout__row--pass").hasClass("checkout__row--passport--required")&&$(".checkout__row--pass input").addClass("checkout__required"),$(".checkout__row--idCard input").removeClass("checkout__required")}),$("#checkout_pass_id").on("click",function(){$(".checkout__row--idCard").hasClass("checkout__row--passport--required")&&$(".checkout__row--idCard input").addClass("checkout__required"),$(".checkout__row--pass input").removeClass("checkout__required")}),s(pe,ae,de,ue),s(he,le,ue,_e),s(me,re,_e,!1,!0),fe.on("click",function(){var e=$(this).closest(".checkout__step");e.hasClass("checkoutDelivery")&&(de.find(".checkout__inner").slideUp(300),de.addClass("checkout__step--completed"),de.removeClass("checkout__step--active"));var t=e.siblings();t.find(".checkout__inner").slideUp(300),t.removeClass("checkout__step--active"),setTimeout(function(){e.find(".checkout__inner").slideDown(300),e.removeClass("checkout__step--completed"),e.addClass("checkout__step--active")},500)}),ve.hasClass("checkout__authorized")){var ge=de.find(".checkoutCustomer__input"),$e=0,ke=[];ge.each(function(){ke[$e]=$(this).val(),$e++}),de.find(".checkout__completed span").remove();for(var u=0;u<ke.length;u++)""!=ke[u]&&de.find(".checkout__completed").append("<span>"+ke[u]+"</span>");de.attr("data-complete","1"),de.find(".checkout__inner").slideUp(300),de.removeClass("checkout__step--active"),setTimeout(function(){de.addClass("checkout__step--completed"),ue.find(".checkout__inner").slideDown(300),ue.addClass("checkout__step--active"),pe.trigger("click")},500)}$(".checkout__back").on("click",function(e){e.preventDefault(),history.back()})}var ye=$(".accountNav__btn"),we=$(".open_order_detail"),Se=$(".close_order_detail"),qe=$(".account"),Ce=$(".blog");if(qe.length>0&&(ye.on("click",function(){var e=$(".accountNav").offset().left,t=$(this).offset().left-e,o=$(this).data("nav"),i=$(this).width();$(".accountNav__line").css({left:t,width:i}),$(this).parent().siblings().find(".accountNav__btn").removeClass("accountNav__btn--active"),$(this).addClass("accountNav__btn--active"),$(".accountTabs__tab").each(function(){var e=$(this);$(this).data("nav")==o&&($(this).siblings().fadeOut(200),setTimeout(function(){e.fadeIn(200)},200))}),"discount"==$(this).data("nav")&&setTimeout(function(){$(".accountDiscProgress").addClass("accountDiscProgress--visited")},3e3)}),$(".accountPet__addPhoto").on("click",function(){$(".accountPet__file").trigger("click"),$(".accountPet__file").on("change",function(){$(".accountPet__loaded").text(""),$(".accountPet__loaded").text($(this).val())})}),we.on("click",function(){var e=$(this).closest(".accountWish__item"),t=e.find(".accountHistory__hidden"),o=e.find(".accountHistory__visible"),i=e.find(".accountHistory__toolsHidden"),n=e.find(".accountHistory__open"),s=e.find(".accountHistory__close");e.addClass("accountHistory__item--click"),setTimeout(function(){e.removeClass("accountHistory__item--click")},600),setTimeout(function(){t.slideToggle(200),o.slideToggle(200),i.slideToggle(200),n.slideToggle(200),s.slideToggle(200)},400)}),Se.on("click",function(){var e=$(this).closest(".accountWish__item"),t=$(this).closest(".accountWish__item").find(".accountHistory__hidden"),o=$(this).closest(".accountWish__item").find(".accountHistory__visible"),i=$(this).closest(".accountWish__item").find(".accountHistory__toolsHidden"),n=$(this).closest(".accountWish__item").find(".accountHistory__open"),s=$(this).closest(".accountWish__item").find(".accountHistory__close");e.addClass("accountHistory__item--click"),setTimeout(function(){e.removeClass("accountHistory__item--click")},600),setTimeout(function(){t.slideToggle(200),o.slideToggle(200),i.slideToggle(200),n.slideToggle(200),s.slideToggle(200)},400)}),$(".accountNav ul").slick({slidesToShow:6,slidesToScroll:1,dots:!1,arrows:!1,variableWidth:!0,infinite:!1,responsive:[{breakpoint:992,settings:{slidesToShow:4,variableWidth:!1}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:650,settings:{slidesToShow:2}}]})),qe.length>0||Ce.length>0)for(var u=0;u<se.length;u++)se[u].addEventListener("click",function(e){this.classList.toggle("open_sort--open"),this.parentNode.querySelector(".accountWish__sortList").classList.toggle("category__sort--open"),$("body").toggleClass("shadow")})};